\documentclass[a4paper,11pt]{article}
\usepackage[dutch]{babel}
\usepackage{amsfonts}
\usepackage{a4}
\usepackage{latexsym}
\usepackage{fitch} % http://folk.uio.no/johanw/FitchSty.html

% niet te gewichtig willen doen met veel ruimte
\setlength{\textwidth}{16cm}
\setlength{\textheight}{23.0cm}
\setlength{\topmargin}{0cm}
\setlength{\oddsidemargin}{0.2mm}
\setlength{\evensidemargin}{0.2mm}
\setlength{\parindent}{0cm}

% standaard enumerate met abc
\renewcommand\theenumi{\alph{enumi}}


\begin{document}


{\bf Uitwerkingen bij Inleiding Theoretische Informatica\\
Deel 1: Equationele Logica -- Syntax en semantiek}\\[2em]


{\bf Opgave 5.1}

De algebra $\mathfrak{P}(V)$ (met $V$ een verzameling) heeft als drager de
machtsverzameling van $V$. De functies worden ge\"interpreteerd als

\begin{eqnarray*}
\texttt{true}_{\mathfrak{P}(V)}     & = & V , \\
\texttt{false}_{\mathfrak{P}(V)}    & = & \{\} , \\
\texttt{not}_{\mathfrak{P}(V)}(X)   & = & V - X , \\
\texttt{and}_{\mathfrak{P}(V)}(X,Y) & = & X \cap Y , \\
\texttt{or}_{\mathfrak{P}(V)}(X,Y)  & = & X \cup Y .
\end{eqnarray*}

We constateren eerst dat $\mathfrak{P}(V)$ een algebra voor
$\texttt{Booleans}$ is omdat de functietypes kloppen. Vervolgens laten we zien
dat $\mathfrak{P}(V)$ zelfs een model is voor $\texttt{Booleans}$ door te
laten zien dat alle vergelijkingen ($\texttt{[B1]} \ldots \texttt{[B5]}$) waar
zijn in $\mathfrak{P}(V)$.

\paragraph{}

Laat $\theta$ een assignment zijn van elementen uit $\mathcal{P}(V)$ aan
de variabelen $x$ en $y$, volgens

\begin{eqnarray*}
\theta & : & \{x,y\} \rightarrow \mathcal{P}(V) \\
\theta(x) & = & X \\
\theta(y) & = & Y.
\end{eqnarray*}

We laten nu zien dat voor iedere vergelijking uit $\texttt{Booleans}$ de
rechter kant identiek is aan de linker kant onder $\bar \theta$.

\begin{itemize}

\item{$\texttt{[B1] and(true,x) = x}$}
\begin{eqnarray*}
\bar \theta(\texttt{and}(\texttt{true}, x)) & = & \texttt{and}_{\mathfrak{P}(V)}(\bar \theta(\texttt{true}), \bar \theta(x)) \\
                                            & = & \texttt{and}_{\mathfrak{P}(V)}(\texttt{true}_{\mathfrak{P}(V)}, \theta(x)) \\
                                            & = & \texttt{and}_{\mathfrak{P}(V)}(V,X) \\
                                            & = & V \cap X \\
                                            & = & X
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(x) & = & \theta(x) \\
               & = & X
\end{eqnarray*}

\item{$\texttt{[B2] and(false,x) = false}$}
\begin{eqnarray*}
\bar \theta(\texttt{and}(\texttt{false}, x)) & = & \texttt{and}_{\mathfrak{P}(V)}(\bar \theta(\texttt{false}), \bar \theta(x)) \\
                                             & = & \texttt{and}_{\mathfrak{P}(V)}(\texttt{false}_{\mathfrak{P}(V)}, \theta(x)) \\
                                             & = & \texttt{and}_{\mathfrak{P}(V)}(\{\},X) \\
                                             & = & \{\} \cap X \\
                                             & = & \{\}
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(\texttt{false}) & = & \texttt{false}_{\mathfrak{P}(V)} \\
                            & = & \{\}
\end{eqnarray*}

\item{$\texttt{[B3] not(true) = false}$}
\begin{eqnarray*}
\bar \theta(\texttt{not(true)}) & = & \texttt{not}_{\mathfrak{P}(V)}(\bar \theta(\texttt{true})) \\
                                & = & \texttt{not}_{\mathfrak{P}(V)}(\texttt{true}_{\mathfrak{P}(V)}) \\
                                & = & \texttt{not}_{\mathfrak{P}(V)}(V) \\
                                & = & V - V \\
                                & = & \{\}
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(\texttt{false}) & = & \texttt{false}_{\mathfrak{P}(V)} \\
                            & = & \{\}
\end{eqnarray*}

\item{$\texttt{[B4] not(false) = true}$}
\begin{eqnarray*}
\bar \theta(\texttt{not(false)}) & = & \texttt{not}_{\mathfrak{P}(V)}(\bar \theta(\texttt{false})) \\
                                 & = & \texttt{not}_{\mathfrak{P}(V)}(\texttt{false}_{\mathfrak{P}(V)}) \\
                                 & = & \texttt{not}_{\mathfrak{P}(V)}(\{\}) \\
                                 & = & V - \{\} \\
                                 & = & V
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(\texttt{true}) & = & \texttt{true}_{\mathfrak{P}(V)} \\
                            & = & V
\end{eqnarray*}

\item{$\texttt{[B5] or(x,y) = not(and(not(x),not(y)))}$}
\begin{eqnarray*}
\bar \theta(\texttt{or}(x,y)) & = & \texttt{or}_{\mathfrak{P}(V)}(\bar \theta(x), \bar \theta(y)) \\
                              & = & \texttt{or}_{\mathfrak{P}(V)}(\theta(x), \theta(y)) \\
                              & = & \texttt{or}_{\mathfrak{P}(V)}(X,Y) \\
                              & = & X \cup Y
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(\texttt{not}(\texttt{and}(\texttt{not}(x), \texttt{not}(y))))
      & = & \texttt{not}_{\mathfrak{P}(V)}(\bar \theta(\texttt{and}(\texttt{not}(x), \texttt{not}(y)))) \\
      & = & \texttt{not}_{\mathfrak{P}(V)}(\texttt{and}_{\mathfrak{P}(V)}(\bar \theta(\texttt{not}(x)), \bar \theta(\texttt{not}(y)))) \\
      & = & \texttt{not}_{\mathfrak{P}(V)}(\texttt{and}_{\mathfrak{P}(V)}(\texttt{not}_{\mathfrak{P}(V)}(\bar \theta(x)), \texttt{not}_{\mathfrak{P}(V)}(\bar \theta(y)))) \\
      & = & \texttt{not}_{\mathfrak{P}(V)}(\texttt{and}_{\mathfrak{P}(V)}(\texttt{not}_{\mathfrak{P}(V)}(\theta(x)), \texttt{not}_{\mathfrak{P}(V)}(\theta(y)))) \\
      & = & \texttt{not}_{\mathfrak{P}(V)}(\texttt{and}_{\mathfrak{P}(V)}(\texttt{not}_{\mathfrak{P}(V)}(X), \texttt{not}_{\mathfrak{P}(V)}(Y))) \\
      & = & \texttt{not}_{\mathfrak{P}(V)}(\texttt{and}_{\mathfrak{P}(V)}(V - X, V - Y)) \\
      & = & \texttt{not}_{\mathfrak{P}(V)}((V - X) \cap (V - Y)) \\
      & = & V - ((V - X) \cap (V - Y)) \\
      & = & X \cup Y
\end{eqnarray*}

\end{itemize}

Hiermee hebben we laten zien dat iedere vergelijking in $\texttt{Booleans}$
waar is in $\mathfrak{P}(V)$ en dus dat $\mathfrak{P}(V)$ een model is voor de
specificatie $\texttt{Booleans}$.\\[2em]


{\bf Opgave 5.2}

\begin{enumerate}

\item % laat zien dat B een model is voor Naturals
Laat $\theta$ een assignment van elementen uit $\{T,F\}$ voor variabelen $x$
en $y$ zijn en neem aan dat $\theta(x) = B$ en $\theta(y) = C$.
We laten zien dat voor alle vergelijkingen $t_{l} = t_{r}$ in de specificatie
$\texttt{Naturals}$ de interpretaties $\bar \theta(t_{l})$ en $\bar
\theta(t_{r})$ gelijk zijn.

\begin{itemize}

\item{$\texttt{[A1] add(x,0) = x}$}
\begin{eqnarray*}
\bar \theta(\texttt{add}(x, \texttt{0})) & = & \texttt{add}_{\mathfrak{B}}(\bar \theta(x), \bar \theta(\texttt{0})) \\
                                         & = & \texttt{add}_{\mathfrak{B}}(\theta(x), \texttt{0}_{\mathfrak{B}}) \\
                                         & = & \texttt{add}_{\mathfrak{B}}(B, T) \\
                                         & = & \underline{xor}(B, T) \\
                                         & = & B
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(x) & = & \theta(x) \\
               & = & B
\end{eqnarray*}

\item{$\texttt{[A2] add(x,succ(y)) = succ(add(x,y))}$}
\begin{eqnarray*}
\bar \theta(\texttt{add}(x, \texttt{succ}(y))) & = & \texttt{add}_{\mathfrak{B}}(\bar \theta(x), \bar \theta(\texttt{succ}(y))) \\
                                               & = & \texttt{add}_{\mathfrak{B}}(\theta(x), \texttt{succ}_{\mathfrak{B}}(\bar \theta(y))) \\
                                               & = & \texttt{add}_{\mathfrak{B}}(A, \texttt{succ}_{\mathfrak{B}}(\theta(y))) \\
                                               & = & \texttt{add}_{\mathfrak{B}}(A, \texttt{succ}_{\mathfrak{B}}(B)) \\
                                               & = & \texttt{add}_{\mathfrak{B}}(A, \neg B) \\
                                               & = & \underline{xor}(A, \neg B) \\
                                               & = & \neg \underline{xor}(A, B)
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(\texttt{succ}(\texttt{add}(x,y))) & = & \texttt{succ}_{\mathfrak{B}}(\bar \theta(\texttt{add}(x, y))) \\
                                              & = & \texttt{succ}_{\mathfrak{B}}(\texttt{add}_{\mathfrak{B}}(\bar \theta(x), \bar \theta(y))) \\
                                              & = & \texttt{succ}_{\mathfrak{B}}(\texttt{add}_{\mathfrak{B}}(\theta(x), \theta(y))) \\
                                              & = & \texttt{succ}_{\mathfrak{B}}(\texttt{add}_{\mathfrak{B}}(A, B)) \\
                                              & = & \texttt{succ}_{\mathfrak{B}}(\underline{xor}(A, B)) \\
                                              & = & \neg \underline{xor}(A, B)
\end{eqnarray*}

\item{$\texttt{[M1] mul(x,0) = 0}$}
\begin{eqnarray*}
\bar \theta(\texttt{mul}(x, \texttt{0})) & = & \texttt{mul}_{\mathfrak{B}}(\bar \theta(x), \bar \theta(\texttt{0})) \\
                                         & = & \texttt{mul}_{\mathfrak{B}}(\theta(x), \texttt{0}_{\mathfrak{B}}) \\
                                         & = & \texttt{mul}_{\mathfrak{B}}(B, T) \\
                                         & = & B \vee T \\
                                         & = & T
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(\texttt{0}) & = & \texttt{0}_{\mathfrak{B}} \\
                        & = & T
\end{eqnarray*}

\item{$\texttt{[M2] mul(x,succ(y)) = add(mul(x,y),x)}$}
\begin{eqnarray*}
\bar \theta(\texttt{mul}(x, \texttt{succ}(y))) & = & \texttt{mul}_{\mathfrak{B}}(\bar \theta(x), \bar \theta(\texttt{succ}(y))) \\
                                               & = & \texttt{mul}_{\mathfrak{B}}(\theta(x), \texttt{succ}_{\mathfrak{B}}(\bar \theta(y))) \\
                                               & = & \texttt{mul}_{\mathfrak{B}}(A, \texttt{succ}_{\mathfrak{B}}(\theta(y))) \\
                                               & = & \texttt{mul}_{\mathfrak{B}}(A, \texttt{succ}_{\mathfrak{B}}(B)) \\
                                               & = & \texttt{mul}_{\mathfrak{B}}(A, \neg B) \\
                                               & = & A \vee \neg B
\end{eqnarray*}

\begin{eqnarray*}
\bar \theta(\texttt{add}(\texttt{mul}(x,y),x)) & = & \texttt{add}_{\mathfrak{B}}(\bar \theta(\texttt{mul}(x, y)), \bar \theta(x)) \\
                                               & = & \texttt{add}_{\mathfrak{B}}(\texttt{mul}_{\mathfrak{B}}(\bar \theta(x), \bar \theta(y)), \bar \theta(x)) \\
                                               & = & \texttt{add}_{\mathfrak{B}}(\texttt{mul}_{\mathfrak{B}}(\theta(x), \theta(y)), \theta(x)) \\
                                               & = & \texttt{add}_{\mathfrak{B}}(\texttt{mul}_{\mathfrak{B}}(A, B), A) \\
                                               & = & \texttt{add}_{\mathfrak{B}}((A \vee B), A) \\
                                               & = & \underline{xor}(A \vee B, A) \\
                                               & = & A \vee \neg B
\end{eqnarray*}

(Geloof maar gewoon dat inderdaad $A \vee \neg B = \underline{xor}(A \vee B,
A)$, of maak de waarheidstafels als je het zeker wilt weten.)

\end{itemize}

\item % Is B een homomorf beeld van N?
Inderdaad is $\mathfrak{B}$ een homomorf beeld van de structuur van de
natuurlijke getallen. Neem bijvoorbeeld de functie $\phi : \mathbb{N}
\rightarrow \{T,F\}$ gedefini\"eerd als

\begin{displaymath}
\phi(x) = \begin{cases}
  T & \text{als $x$ even is;} \\
  F & \text{als $x$ oneven is.}
\end{cases}
\end{displaymath}

We laten zien dat $\phi$ een homomorphisme is van de structuur van de
natuurlijke getallen (we noemen deze algebra $\mathfrak{N}) $naar de algebra
$\mathfrak{B}$. Hiertoe bekijken we hoe $\phi$ zich gedraagt over de
ge\"interpreteerde constante $\texttt{0}$ en functies $\texttt{succ}$,
$\texttt{add}$ en $\texttt{mul}$. Voor alle $x,y \in \mathbb{N}$ hebben we:

\begin{itemize}

\item
\begin{eqnarray*}
\phi(\texttt{0}_{\mathfrak{N}}) & = & \phi(0) \\
                                & = & T \\
                                & = & \texttt{0}_{\mathfrak{B}}
\end{eqnarray*}

\item
Als $x$ even is:
\begin{eqnarray*}
\phi(\texttt{succ}_{\mathfrak{N}}(x)) & = & \phi(x+1) \\
                                      & = & F \\
                                      & = & \neg T \\
                                      & = & \texttt{succ}_{\mathfrak{B}}(T) \\
                                      & = & \texttt{succ}_{\mathfrak{B}}(\phi(x))
\end{eqnarray*}

En als $x$ oneven is:
\begin{eqnarray*}
\phi(\texttt{succ}_{\mathfrak{N}}(x)) & = & \phi(x+1) \\
                                      & = & T \\
                                      & = & \neg F \\
                                      & = & \texttt{succ}_{\mathfrak{B}}(F) \\
                                      & = & \texttt{succ}_{\mathfrak{B}}(\phi(x))
\end{eqnarray*}

\item
Als $x$ even is en $y$ oneven is of omgekeerd:
\begin{eqnarray*}
\phi(\texttt{add}_{\mathfrak{N}}(x,y) & = & \phi(x+y) \\
                                      & = & F \\
                                      & = & \underline{xor}(T, F) = \underline{xor}(F, T) \\
                                      & = & \underline{xor}(\phi(x), \phi(y)) \\
                                      & = & \texttt{add}_{\mathfrak{B}}(\phi(x),\phi(y))
\end{eqnarray*}

Als $x$ en $y$ beiden even of beiden oneven zijn:
\begin{eqnarray*}
\phi(\texttt{add}_{\mathfrak{N}}(x,y) & = & \phi(x+y) \\
                                      & = & T \\
                                      & = & \underline{xor}(T, T) = \underline{xor}(F, F) \\
                                      & = & \underline{xor}(\phi(x), \phi(y)) \\
                                      & = & \texttt{add}_{\mathfrak{B}}(\phi(x),\phi(y))
\end{eqnarray*}

\item
Als $x$ en $y$ beiden oneven zijn:
\begin{eqnarray*}
\phi(\texttt{mul}_{\mathfrak{N}}(x,y) & = & \phi(x*y) \\
                                      & = & F \\
                                      & = & F \vee F \\
                                      & = & \phi(x) \vee \phi(y) \\
                                      & = & \texttt{mul}_{\mathfrak{B}}(\phi(x),\phi(y))
\end{eqnarray*}

Als tenminste $x$ of $y$ even is:
\begin{eqnarray*}
\phi(\texttt{mul}_{\mathfrak{N}}(x,y) & = & \phi(x*y) \\
                                      & = & T \\
                                      & = & (T \vee T) = (T \vee F) = (F \vee T) \\
                                      & = & \phi(x) \vee \phi(y) \\
                                      & = & \texttt{mul}_{\mathfrak{B}}(\phi(x),\phi(y))
\end{eqnarray*}

\end{itemize}

Bovendien zijn $T$ en $F$ beiden het beeld van meerdere natuurlijke getallen,
dus is $\phi$ surjectief. Hieruit volgt dat $\mathfrak{B}$ een homomorf beeld
is van $\mathfrak{N}$, de structuur van de natuurlijke getallen.\\[2em]

\end{enumerate}


{\bf Opgave 5.3}

Om te laten zien dat een substitutie $\sigma : Ter_{\Sigma}(X) \rightarrow
Ter_{\Sigma}(X)$ een homomorfisme is van de termalgebra
$\mathfrak{Ter}_{\Sigma}(X)$ naar zichzelf, moeten we laten zien dat $\sigma$
voldoet aan de twee voorwaarden die gesteld worden aan een homomorfisme:

\begin{itemize}

\item
$\sigma(c_{\mathfrak{Ter}_{\Sigma}}) = c_{\mathfrak{Ter}_{\Sigma}}$ voor alle
  constanten $c$ uit $\Sigma$.

\item
$\sigma(f_{\mathfrak{Ter}_{\Sigma}}(a_{1}, \ldots, a_{n}))
= f_{\mathfrak{Ter}_{\Sigma}}(\sigma(a_{1}), \ldots, \sigma(a_{n}))$ voor alle
functiesymbolen $f$ uit $\Sigma$ en alle $a_{i}$ uit $Ter_{\Sigma}(X)$.

\end{itemize}

We bekijken eerst het geval van een willekeurige constante $c$ uit $\Sigma$:

\begin{align*}
\sigma(c_{\mathfrak{Ter}_{\Sigma}})
&= c_{\mathfrak{Ter}_{\Sigma}} &&\text{(volgens definitie 3.1)}
\end{align*}

En vervolgens het geval van een $n$-plaatsig functiesymbool $f$ met
willekeurige termen $a_{1} \ldots a_{n}$ uit $Ter_{\Sigma}$:

\begin{align*}
\sigma(f_{\mathfrak{Ter}_{\Sigma}}(a_{1}, \ldots, a_{n}))
&= f_{\mathfrak{Ter}_{\Sigma}}(\sigma(a_{1}), \ldots, \sigma(a_{n}))
&&\text{(volgens definitie 3.1)}
\end{align*}

Hiermee is een substitutie dus een homomorphisme van
$\mathfrak{Ter}_{\Sigma}(X)$ naar $\mathfrak{Ter}_{\Sigma}(X)$.\\[2em]


{\bf Opgave 5.4}

\begin{enumerate}

\item % laat zien dat eval_term de identiteit is

We laten voor iedere term $t$ uit $Ter_{\Sigma}$ zien dat
$eval_{\mathfrak{Ter}_{\Sigma}}(t) = t$ met inductie naar de structuur van
$t$.

In het basisgeval is $t$ een constante en hebben we:

\begin{align*}
eval_{\mathfrak{Ter}_{\Sigma}}(t) &= t_{\mathfrak{Ter}_{\Sigma}} \\
                                  &= t &&\text{(volgens definitie termalgebra)}
\end{align*}

In de inductiestap bekijken we termen van de vorm $f(t_{1}, \ldots, t_{n})$,
waarbij we volgens de inductiehypothese mogen aannemen dat
$eval_{\mathfrak{Ter}_{\Sigma}}(t_{i}) = t_{i}$ voor $1 \ge i \ge n$:

\begin{align*}
eval_{\mathfrak{Ter}_{\Sigma}}(f(t_{1}, \ldots, t_{n})) &=
f_{\mathfrak{Ter}_{\Sigma}}(eval_{\mathfrak{Ter}_{\Sigma}}(t_{1}), \ldots,
eval_{\mathfrak{Ter}_{\Sigma}}(t_{n})) \\
    &= f_{\mathfrak{Ter}_{\Sigma}}(t_{1}, \ldots, t_{n}) &&\text{(volgens inductiehypothese)} \\
    &= f(t_{1}, \ldots, t_{n}) &&\text{(volgens definitie termalgebra)}
\end{align*}

\item % laat zien dat eval(t) = ass(t) voor iedere algebra en assignment ass

Gegeven een algebra $\mathfrak{A}$ en een assignment $\theta : X \rightarrow
A$, is $\bar \theta$ een homomorfisme van $\mathfrak{Ter}_{\Sigma}(X)$ naar
$\mathfrak{A}$. We bekijken nu de assignment $\theta' : \{\} \rightarrow A$ en
zien dat $\bar \theta(t) = \bar \theta'(t)$ voor iedere gesloten term $t$.

Nu is $\bar \theta'$ een homomorfisme van $\mathfrak{Ter}_{\Sigma}$ naar
$\mathfrak{A}$, net zoals $eval_{\mathfrak{A}}$. Volgens gevolg 5.3 is er maar
\'e\'en zo'n homomorfisme en dus zijn $\bar \theta'$ en $eval_{\mathfrak{A}}$
gelijk. Omdat we voor iedere gesloten term $t$ al zagen dat $\bar \theta(t) =
\bar \theta'(t)$, zien we nu ook dat voor iedere gesloten term $t$

\begin{align*}
\bar \theta(t) = eval_{\mathfrak{A}}(t)
\end{align*}

waar moet zijn.\\[2em]

\end{enumerate}


{\bf Opgave 5.5}

Todo.


\end{document}
