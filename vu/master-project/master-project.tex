\documentclass[11pt,oneside,a4paper,final]{report}
\usepackage[english]{babel}


% Use some subversion information
\usepackage{svn-multi}
\svnid{$Id$}


% Use scalable, PostScript Type 1 versions of the Computer Modern fonts.
\usepackage{type1cm}

% How to encode fonts.
\usepackage[T1]{fontenc}

% Text encoding to take for data input stream. I.e. the text we write in.
\usepackage[latin1]{inputenc}

\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}

% Times
%\usepackage{txfonts}
%\usepackage{times}

% Times
%\usepackage{mathptmx}

% Palatino
%\usepackage{pxfonts}
%\usepackage{palatino}

% Palatino
%\usepackage[osf,sc]{mathpazo}

% TeX Gyre Pagella (like Palatino)
%\usepackage{qpxmath}
%\usepackage{tgpagella}

% TeX Gyre Termes (like Times)
\usepackage{qtxmath}
\usepackage{tgtermes}

% txtt for tt
\renewcommand{\ttdefault}{txtt}

% Computer Modern for tt
%\renewcommand{\ttdefault}{cmtt}

% Helvetica for sans serif
%\renewcommand{\sfdefault}{qhv}
\usepackage[scaled=0.95]{helvet}


\usepackage{a4}

\raggedbottom

% Dutch style of paragraph formatting, i.e. no indents.
%\setlength{\parskip}{1.3ex plus 0.2ex minus 0.2ex}
\setlength\parskip{\medskipamount}
%\setlength\parskip{\bigskipamount}
\setlength{\parindent}{0pt}

% Linespacing
\usepackage{setspace}
\onehalfspacing
%\doublespacing


% Natbib for the bibliography, always. sort&compress will make i.e. [1-5,7].
%\usepackage[square,numbers,sort&compress]{natbib}
%\usepackage[authoryear,sort]{natbib}
\usepackage[numbers]{natbib}
\setlength{\bibhang}{0ex}


\usepackage{amsthm}

\theoremstyle{definition}
\newtheorem{definition}{Definition}


\usepackage{paralist}


% Must be last in preamble
\usepackage[
  pdftex,
  colorlinks,
  citecolor=black,
  filecolor=black,
  linkcolor=black,
  urlcolor=black,
  pdfauthor={Martijn Vermaat},
  pdftitle={Infinitary Rewriting in Coq},
  pdfsubject={A Mechanically Verifiable Formalisation of Infinitary Rewriting in the Coq Proof Assistant},
  pdfkeywords={rewriting, infinitary rewriting, verification, coq, functional programming},
  draft=true
]{hyperref}
\usepackage[figure]{hypcap}


\title{Infinitary Rewriting in Coq}

\author{Martijn Vermaat}
\date{MSc. Thesis (\emph{draft r\svnrev})}


\begin{document}


\maketitle


\begin{abstract}
  Abstract describing the thesis in a few sentences.
\end{abstract}


\chapter*{Preamble}

Bla.


\section*{Acknowledgements}

Joint work with Dimitri Hendriks.
J\"urg Endrullis.
Vincent van Oostrom.
Femke van Raamsdonk.
Roel de Vrijer.


\tableofcontents


\chapter{Introduction}

Infinitary term rewriting, the Coq proof assistant, etc.


\section*{Outline}

In chapter~\ref{chap:itr} we introduce the theory of infinitary term
rewriting. To this end we first give a quick summary of traditional (finitary)
term rewriting and an introduction to the mathematical concept of ordinal
numbers.

The goal of chapter~\ref{chap:formalization} is to introduce our formalization
of infinitary term rewriting in the Coq proof assistant. We first discuss this
proof assistant and then review the main parts of our development.

Our formalization was used to prove that in infinitary rewriting, weak
orthogonality does not imply unique normal forms. This application is
discussed in chapter~\ref{chap:unwo}.

Finally, in chapter~\ref{chap:conclusion} we summarize our results and draw
conclusions.


\chapter{Infinitary Term Rewriting}\label{chap:itr}


\section{Term Rewriting}

We give a short introduction to the basic notions of term rewriting needed for
section~\ref{sec:itr}. For a more in-depth treatment of the theory of term
rewriting, consult (TODO: terese etc). In this section, we use definitions and
notations from Terese.

\begin{definition}[Signature]
A \emph{signature} $\Sigma$ is a non-empty set of \emph{function symbols} $f,
g, \ldots$. Each function symbol $f$ has a fixed natural number $\#_f$, which
we call its \emph{arity}. A function symbol with arity $0$ is also called a
\emph{constant}.
\end{definition}

\begin{definition}[Term]
The set of \emph{terms} $Ter_\Sigma(X)$ over a signature $\Sigma$ and a set of
variables $X = \{x, y, \ldots\}$ is defined by induction:
\begin{compactenum}
  \item
    $x \in Ter_\Sigma(X)$ for every variable $x \in X$.
  \item
    If $f \in \Sigma$ is a function symbol with arity $n$ and $t_1, \ldots,
    t_n \in Ter_\Sigma(X)$, then $f(t_1, \ldots, t_n) \in Ter_\Sigma(X)$.
\end{compactenum}
\end{definition}

The terms $t_i$ are called the \emph{arguments} of $f(t_1, \ldots, t_n)$ and
the symbol $f$ the \emph{root}. By $Var(t)$ we denote the set of variables
occuring in $t$, and $t$ is \emph{closed} if $Var(t) = \emptyset$. If no
variable occurs more than once in $t$, we say $t$ is \emph{linear}.

\begin{definition}[Rewrite rule]
\end{definition}

\begin{definition}[TRS]
A \emph{term rewriting system} (TRS) $\mathcal{R}$ is pair $(\Sigma, R)$ of a
signature $\Sigma$ and a set of rewrite rules $R$ on $\Sigma$.
\end{definition}

In contrast to Terese, we do not define contexts as terms over an extended
signature. Instead, a direct inductive definition is given because this is how
the notion of context is defined in our Coq development.
% TODO: the main reason being that we choose not to consider multi-hole contexts

\begin{definition}[Context]
The set of (one-hole) \emph{contexts} $Ctx_\Sigma(X)$ over a signature
$\Sigma$ and a set of variables $X$ is defined by induction:
\begin{compactenum}
  \item
    $\Box \in Ctx_\Sigma(X)$.
  \item
    If $f \in \Sigma$ is a function symbol with arity $n + 1$, $C \in
    Ctx_\Sigma(X)$, and $t_1, \ldots, t_n \in Ter_\Sigma(X)$, then for any $m
    \leq n + 1$, $f(t_1, \ldots, t_m, C, t_{m+2}, \ldots, t_{n}) \in
    Ctx_\Sigma(X)$.
\end{compactenum}
\end{definition}

Thus every context $C$ has exactly one occurence of the symbol $\Box$, called
its \emph{hole}. By the term $C[t]$ we mean the result of replacing the hole
of $C$ by $t$.

\begin{definition}[Substitution]
Given a signature $\Sigma$ and a set of variables $X$, a \emph{substitution}
$\sigma$ is a mapping from $X$ to $Ter_\Sigma(X)$. It can be generalized to
a mapping $\bar{\sigma} : Ter_\Sigma(X) \rightarrow Ter_\Sigma(X)$
inductively:
\begin{align*}
  \bar{\sigma}(x) &= \sigma(x)\\
  \bar{\sigma}(f(t_1, \ldots, t_n)) &= f(\bar{\sigma}(t_1), \ldots, \bar{\sigma}(t_n))
\end{align*}
\end{definition}

Since $\bar{\sigma}$ is completely defined by $\sigma$ we refer to both as
`the' substitution $\sigma$. The notation $[x_1, \ldots, x_n := s_1, \ldots,
  s_n]$ is used for the substitution $\sigma$ with $\sigma(x_i) = s_i$ for $1
\leq i \leq n$ and $\sigma(y) = y$ for all other $y$. Applying a substitution % TODO: syntactical equality?
$\sigma$ to a term $t$ is usually written $\sigma t$ (without brackets).


\section{Ordinal Numbers}


\section{Infinitary Term Rewriting}\label{sec:itr}


\chapter{A Mechanically Verifiable Formalization}\label{chap:formalization}


\section{The Coq Proof Assistant}


\section{Ordinal Numbers}


\section{Coinductive Terms}


\section{Transfinite Rewrite Sequences}


\chapter{Weak Orthogonality and Unique Normal Forms}\label{chap:unwo}


\section{Jan Willem's Counterexample}


\section{Description of UNWO.v}


\chapter{Conclusion}\label{chap:conclusion}


\pagebreak


\nocite{*}
\bibliographystyle{plain}
\bibliography{master-project}


\end{document}
